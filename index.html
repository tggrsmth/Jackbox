
<!DOCTYPE html>
<html>
<head>
    <title>Please enter values</title>
</head>
<body>
<h1>Jackbox Rest API assignment</h1>
<form id="form" method="post">
  <p>Please enter your first and last name:</p>
  <input type="text" id="firstname">
  <input type="text" id="lastname">
  <br>
  <p>Enter Email</p>
  <input type="text" id="email">
  <br>
  <p>Enter Username</p>
  <input type="text" id="username">
  <br>
  <p>Enter Password</p>
  <input type="password" id="password">
  <br><br>
  <input type="submit">
</form>
</body>
<script>
  let form = document.getElementById("form")
  form.addEventListener('submit', function(e){
  e.preventDefault()
  let firstname = document.getElementById("firstname").value
  let lastname = document.getElementById("lastname").value
  let email = document.getElementById("email").value
  let username = document.getElementById("username").value
  let password = document.getElementById("password").value
  fetch("/users", {
    method: 'POST',
    body:JSON.stringify({
      firstname:firstname,
      lastname:lastname,
      email: email,
      username: username,
      password: password
    }),
    headers: {
    'Content-type': 'application/json; charset=UTF-8',
  }
  })
  .then(function(response){ 
    if (response.status === 200){
  alert("Data was appended to .csv")
    } else {
  alert("There was an error appending to the .csv")
    } 
  }).catch(error => console.error('Error:', error)); 
});
</script>
</html>